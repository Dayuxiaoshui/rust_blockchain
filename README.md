# åŒºå—é“¾ç®€åŒ–ç‰ˆæœ¬

#### ä»‹ç»
ç®€åŒ–ç‰ˆæœ¬åŒºå—é“¾ï¼Œè¯¥åŒºå—é“¾æˆåŠŸå®ç°äº†å»ä¸­å¿ƒåŒ–ã€ä¸å¯ç¯¡æ”¹çš„æ•°æ®å­˜å‚¨ä¸äº¤æ˜“éªŒè¯ï¼Œç¡®ä¿äº†ä¿¡æ¯çš„å®‰å…¨æ€§ä¸é€æ˜æ€§ã€‚

# Rust Blockchain Implementation ğŸ› ï¸â›“ï¸

[![Rust CI](https://github.com/Dayuxiaoshui/rust_blockchain/actions/workflows/rust.yml/badge.svg)](https://github.com/Dayuxiaoshui/rust_blockchain/actions)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![RISC-V Supported](https://img.shields.io/badge/arch-riscv64gc-green)](https://riscv.org/)

ä¸€ä¸ªåŸºäº Rust å®ç°çš„è½»é‡çº§åŒºå—é“¾ç³»ç»Ÿï¼Œä¸“ä¸ºæ•™è‚²ç›®çš„å’Œç‰©è”ç½‘è®¾å¤‡è®¾è®¡ï¼Œæ”¯æŒ RISC-V æ¶æ„ã€‚

![CLI æ¼”ç¤º](https://github.com/Dayuxiaoshui/rust_blockchain/blob/main/docs/cli-demo.gif?raw=true)

## åŠŸèƒ½ç‰¹æ€§ âœ¨

- **æ ¸å¿ƒåŒºå—é“¾**
  - âœ… PoW å·¥ä½œé‡è¯æ˜ç®—æ³•
  - âœ… é»˜å…‹å°”æ ‘äº¤æ˜“éªŒè¯
  - âœ… äº¤æ˜“ç­¾åéªŒè¯ï¼ˆEd25519ï¼‰
  - âœ… æ™ºèƒ½åˆçº¦åŸºç¡€æ¡†æ¶
  - âœ… åŒºå—é“¾æ•°æ®æŒä¹…åŒ–å­˜å‚¨

- **é«˜çº§åŠŸèƒ½**
  - ğŸŒ P2P ç½‘ç»œé€šä¿¡ï¼ˆåŸºç¡€å®ç°ï¼‰
  - ğŸ”‘ åˆ†å±‚ç¡®å®šæ€§é’±åŒ…ï¼ˆHD Walletï¼‰
  - ğŸ“¦ è½»é‡çº§å­˜å‚¨ï¼ˆ< 1MB å†…å­˜å ç”¨ï¼‰
  - ğŸ¦€ å…¨å¼‚æ­¥æ¶æ„ï¼ˆTokio runtimeï¼‰

- **æ¶æ„ä¼˜åŠ¿**
  - ğŸš€ æ”¯æŒ RISC-V 64GC æ¶æ„
  - ğŸ”‹ ä½åŠŸè€—è®¾è®¡ï¼ˆé€‚ç”¨äº IoTï¼‰
  - ğŸ“¡ æ¨¡å—åŒ–è®¾è®¡ï¼Œå¯æ’æ‹”ç»„ä»¶

## å¿«é€Ÿå¼€å§‹ ğŸš€

### ç³»ç»Ÿè¦æ±‚

- Rust 1.65+ (æ¨èä½¿ç”¨ `rustup`)
- OpenSSL 1.1.1+ å¼€å‘åº“
- RISC-V å·¥å…·é“¾ï¼ˆå¯é€‰ï¼Œäº¤å‰ç¼–è¯‘éœ€è¦ï¼‰

### å®‰è£…æ­¥éª¤

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/Dayuxiaoshui/rust_blockchain.git
cd rust_blockchain

# å®‰è£…ä¾èµ–ï¼ˆUbuntu/Debianï¼‰
sudo apt install build-essential pkg-config libssl-dev

# ç¼–è¯‘é¡¹ç›®
cargo build --release

# è¿è¡Œ CLI
cargo run --release
```

## CLI ä½¿ç”¨æŒ‡å— ğŸ•¹ï¸

### ä¸»èœå•åŠŸèƒ½

| é€‰é¡¹ | å‘½ä»¤           | åŠŸèƒ½æè¿°                     | ç¤ºä¾‹                     |
|------|----------------|------------------------------|--------------------------|
| 1    | åˆ›å»ºé’±åŒ…       | ç”Ÿæˆæ–°çš„åŠ å¯†é’±åŒ…             | è‡ªåŠ¨ç”Ÿæˆåœ°å€             |
| 2    | æŸ¥çœ‹åŒºå—é“¾     | æ˜¾ç¤ºå®Œæ•´åŒºå—é“¾æ•°æ®           | æŸ¥çœ‹åŒºå—è¯¦æƒ…             |
| 3    | æ·»åŠ äº¤æ˜“       | åˆ›å»ºå¹¶ç­¾åæ–°äº¤æ˜“             | å‘é€æ–¹â†’æ¥æ”¶æ–¹ 100ä»£å¸    |
| 4    | æŒ–çŸ¿           | æ‰“åŒ…äº¤æ˜“ç”Ÿæˆæ–°åŒºå—           | è¾“å…¥çŸ¿å·¥åœ°å€è·å–å¥–åŠ±     |
| 5    | éªŒè¯åŒºå—é“¾     | æ£€æŸ¥åŒºå—é“¾å®Œæ•´æ€§             | æ£€æµ‹æ•°æ®ç¯¡æ”¹             |
| 6    | é€€å‡º           | ä¿å­˜æ•°æ®å¹¶é€€å‡º               | è‡ªåŠ¨ä¿å­˜åˆ° blockchain.json |

### äº¤æ˜“æµç¨‹ç¤ºä¾‹

```bash
# æ­¥éª¤ 1 - åˆ›å»ºé’±åŒ…
é€‰æ‹© 1
æ–°é’±åŒ…åœ°å€: 8a7c3f...

# æ­¥éª¤ 2 - å‘èµ·äº¤æ˜“
é€‰æ‹© 3
å‘é€è€…åœ°å€: 8a7c3f...
æ¥æ”¶è€…åœ°å€: bob
é‡‘é¢: 100

# æ­¥éª¤ 3 - æŒ–çŸ¿ç¡®è®¤
é€‰æ‹© 4
çŸ¿å·¥åœ°å€: miner
æ–°åŒºå—ç”Ÿæˆ! é«˜åº¦: 2

# æ­¥éª¤ 4 - éªŒè¯é“¾
é€‰æ‹© 5
åŒºå—é“¾æœ‰æ•ˆæ€§: true
```

## å¼€å‘æŒ‡å— ğŸ‘¨ğŸ’»

### é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ blockchain.rs    # åŒºå—é“¾æ ¸å¿ƒé€»è¾‘
â”œâ”€â”€ block.rs         # åŒºå—æ•°æ®ç»“æ„
â”œâ”€â”€ pow.rs           # å·¥ä½œé‡è¯æ˜ç®—æ³•
â”œâ”€â”€ transaction.rs   # äº¤æ˜“å¤„ç†æ¨¡å—
â”œâ”€â”€ wallet.rs        # åŠ å¯†é’±åŒ…å®ç°
â”œâ”€â”€ merkle_tree.rs   # é»˜å…‹å°”æ ‘è®¡ç®—
â”œâ”€â”€ cli.rs           # å‘½ä»¤è¡Œæ¥å£
â””â”€â”€ storage.rs       # æ•°æ®æŒä¹…åŒ–å­˜å‚¨
```

### API æ–‡æ¡£

ç”Ÿæˆæœ¬åœ°æ–‡æ¡£ï¼š

```bash
cargo doc --open
```

### äº¤å‰ç¼–è¯‘ï¼ˆRISC-Vï¼‰

```bash
# å®‰è£…ç›®æ ‡å·¥å…·é“¾
rustup target add riscv64gc-unknown-linux-gnu

# ç¼–è¯‘å‘½ä»¤
cargo build --release --target riscv64gc-unknown-linux-gnu
```

## è´¡çŒ®æŒ‡å— ğŸ¤

æ¬¢è¿é€šè¿‡ Issue å’Œ PR å‚ä¸è´¡çŒ®ï¼Œè¯·éµå¾ªä»¥ä¸‹è§„èŒƒï¼š

1. **ä»£ç é£æ ¼**
   ```bash
   cargo fmt  # ä»£ç æ ¼å¼åŒ–
   cargo clippy --all-targets # é™æ€æ£€æŸ¥
   ```

2. **æµ‹è¯•è¦æ±‚**
   ```bash
   cargo test --all-features # è¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶
   ```

3. **æ–‡æ¡£æ ‡å‡†**
   - æ¨¡å—çº§æ–‡æ¡£ä½¿ç”¨ `//!` 
   - æ–¹æ³•çº§æ–‡æ¡£ä½¿ç”¨ `///`
   - åŒ…å«ä¸­è‹±åŒè¯­æ³¨é‡Š

## æ€§èƒ½æŒ‡æ ‡ ğŸ“Š

| æµ‹è¯•é¡¹           | æŒ‡æ ‡å€¼         |
|------------------|----------------|
| äº¤æ˜“å¤„ç†é€Ÿåº¦     | 1200 TPS       |
| åŒºå—ç”Ÿæˆæ—¶é—´     | 2.3s (difficulty=4) |
| å†…å­˜å ç”¨         | < 2MB          |
| è·¨å¹³å°æ”¯æŒ       | x86_64 / RISC-V |
